{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/raul/Documentos/projctos/projectos_Snir/teste/components/@Fields/contains/select.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport ReactSelect, { OptionTypeBase, components, Props as SelectProps } from \"react-select\";\nimport { FormGroup, InputGroupAddon, InputGroupText, InputGroup, UncontrolledTooltip } from \"reactstrap\";\nimport { useField } from \"@unform/core\";\nimport \"./select.css\";\nimport classnames from \"classnames\"; // import { isEmpty } from \"../../general/genericsFun\";\n\nconst Select = (_ref) => {\n  let {\n    name,\n    selectIcon\n  } = _ref,\n      rest = _objectWithoutProperties(_ref, [\"name\", \"selectIcon\"]);\n\n  const isEmpty = input => {\n    if (typeof input === \"array\") return input.length === 0;\n    if (typeof input === \"number\") return false;\n    return !input || Object.keys(input).length === 0;\n  };\n\n  const selectRef = useRef(null);\n  const {\n    0: idTulltip,\n    1: a_\n  } = useState(\"info\" + new Date().getDay() + \"\" + new Date().getSeconds() + new Date().getHours());\n  const debounceRef = useRef(null);\n  const {\n    0: inFoucos,\n    1: setInFoucos\n  } = useState(false);\n  const {\n    fieldName,\n    defaultValue,\n    registerField,\n    error,\n    clearError\n  } = useField(name);\n  let {\n    noBorder,\n    newElement,\n    data,\n    enableImg,\n    isrequired\n  } = rest;\n  var value;\n  if (!isEmpty(data) && data.length === 1) value = {\n    value: data\n  };\n\n  const imgOrIcon = item => {\n    // debugger\n    if (item.hasOwnProperty(\"text\")) return;\n    return !isEmpty(item.icon) ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: \"10px\"\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n        className: item.icon + \" avatar-select\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), \" \", item.label, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this) : !isEmpty(item.img) ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"avatar-select mr-2\",\n        src: require(`assets/img/theme/team-${Math.floor(Math.random() * 4) + 1}.jpg`),\n        alt: item.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), \" \", item.label, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this) : item.label;\n  };\n\n  const fillData = values => {\n    if (enableImg === true) {\n      values = values.map(d => {\n        d.label = imgOrIcon(d);\n        return d;\n      });\n    }\n\n    return values;\n  };\n\n  useEffect(() => {\n    if (rest.isMulti) {\n      setInFoucos(true);\n    }\n  }, []);\n  useEffect(() => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    registerField({\n      name: fieldName,\n      ref: selectRef.current,\n      path: \"state.value\",\n      getValue: ref => {\n        if (rest.isMulti) {\n          var _ref$state, _ref$state2, _ref$state2$value;\n\n          if (!((_ref$state = ref.state) !== null && _ref$state !== void 0 && _ref$state.value)) return []; //if(isEmpty(typeof ref.state.value === 'string'))return data.length === 1 ? data[0].value: data\n\n          if (typeof ref.state.value.map !== \"function\") {\n            if (!ref.state.value) return \"\";\n            return ref.state.value.value;\n          }\n\n          return (_ref$state2 = ref.state) === null || _ref$state2 === void 0 ? void 0 : (_ref$state2$value = _ref$state2.value) === null || _ref$state2$value === void 0 ? void 0 : _ref$state2$value.map(option => option === null || option === void 0 ? void 0 : option.value);\n        } else {\n          if (!ref.state.value) return \"\";\n          return ref.state.value.value;\n        }\n      }\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fieldName, registerField, rest.isMulti]);\n\n  const CustomOption = e => {\n    const {\n      innerProps,\n      isDisabled\n    } = e; // console.log(\"index\", e);\n\n    return !isDisabled ? /*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({}, innerProps), {}, {\n      children: e.data.component\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this) : null;\n  };\n\n  const DropdownIndicatorComponent = props => {\n    return /*#__PURE__*/_jsxDEV(components.DropdownIndicator, _objectSpread(_objectSpread({}, props), {}, {\n      children: selectIcon\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this);\n  };\n\n  const DropdownIndicatorComponentOther = props => {\n    return /*#__PURE__*/_jsxDEV(components.DropdownIndicator, _objectSpread(_objectSpread({}, props), {}, {\n      children: (() => {\n        if (inFoucos) {\n          return /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"teste-384\",\n            onClick: e => {\n              rest.onSelectAll && rest.onSelectAll(e);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              id: idTulltip,\n              onClick: e => {\n                rest.onSelectAll && rest.onSelectAll(e);\n              },\n              className: \"fas fa-check-double t kfgjug\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Selecionar Todos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }, this);\n        } else return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: selectIcon || /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fas fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 46\n          }, this)\n        }, void 0, false);\n      })()\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form-control-label\",\n      children: [rest.title, \" \", isrequired && /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"text-danger\",\n        children: \"*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: [rest.iconleft && /*#__PURE__*/_jsxDEV(UncontrolledTooltip, {\n        delay: 0,\n        placement: \"auto\",\n        target: selectRef,\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          children: rest.info ? rest.info : \"defaultInfo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n        className: classnames(`input-group-merge flexed ${noBorder}`, {\n          focused: \"true\"\n        }) + \"  div-out-rs \" + (newElement !== undefined ? \" t \" : \"\"),\n        children: [/*#__PURE__*/_jsxDEV(ReactSelect, _objectSpread(_objectSpread({\n          defaultValue: defaultValue,\n          ref: selectRef,\n          classNamePrefix: `${error && \"unFormError \"} react-select`\n        }, rest), {}, {\n          onChange: rest !== null && rest !== void 0 && rest.debounce ? e => {\n            const {\n              time = 1000\n            } = rest;\n            clearTimeout(debounceRef.current);\n            debounceRef.current = setTimeout(() => {\n              rest.onChange(e);\n            }, time);\n          } : rest.onChange,\n          components: rest.other ? {\n            Option: CustomOption,\n            DropdownIndicator: DropdownIndicatorComponentOther\n          } : inFoucos ? {\n            DropdownIndicator: DropdownIndicatorComponentOther\n          } : {\n            DropdownIndicator: DropdownIndicatorComponent || null\n          } // {...value}\n          ,\n          isClearable: true,\n          options: fillData(data),\n          onInputChange: e => {\n            clearError(e);\n\n            if (rest.onInputChange) {\n              rest.onInputChange(e);\n            }\n          }\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this), newElement !== undefined ? /*#__PURE__*/_jsxDEV(InputGroupAddon, {\n          title: newElement.title,\n          addonType: \"append\",\n          onClick: e => newElement.func(e),\n          children: /*#__PURE__*/_jsxDEV(InputGroupText, {\n            className: \"form-control-sm _4Select\",\n            style: error && {\n              borderColor: \"#9f3a38\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 33\n            }, this), \" \", newElement.legend]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 25\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"small\", {\n        style: {\n          color: \"#9f3a38\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\nexport default Select;","map":{"version":3,"sources":["/home/raul/Documentos/projctos/projectos_Snir/teste/components/@Fields/contains/select.jsx"],"names":["React","useRef","useEffect","useState","ReactSelect","OptionTypeBase","components","Props","SelectProps","FormGroup","InputGroupAddon","InputGroupText","InputGroup","UncontrolledTooltip","useField","classnames","Select","name","selectIcon","rest","isEmpty","input","length","Object","keys","selectRef","idTulltip","a_","Date","getDay","getSeconds","getHours","debounceRef","inFoucos","setInFoucos","fieldName","defaultValue","registerField","error","clearError","noBorder","newElement","data","enableImg","isrequired","value","imgOrIcon","item","hasOwnProperty","icon","paddingTop","label","img","require","Math","floor","random","fillData","values","map","d","isMulti","ref","current","path","getValue","state","option","CustomOption","e","innerProps","isDisabled","component","DropdownIndicatorComponent","props","DropdownIndicatorComponentOther","onSelectAll","title","iconleft","info","focused","undefined","debounce","time","clearTimeout","setTimeout","onChange","other","Option","DropdownIndicator","onInputChange","func","borderColor","legend","color"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport ReactSelect, {\n    OptionTypeBase,\n    components,\n    Props as SelectProps\n} from \"react-select\";\n\nimport {\n    FormGroup,\n    InputGroupAddon,\n    InputGroupText,\n    InputGroup,\n    UncontrolledTooltip\n} from \"reactstrap\";\n\nimport { useField } from \"@unform/core\";\nimport \"./select.css\";\nimport classnames from \"classnames\";\n\n// import { isEmpty } from \"../../general/genericsFun\";\n\nconst Select = ({ name, selectIcon, ...rest }) => {\n     const isEmpty = input => {\n        if (typeof input === \"array\") return input.length === 0;\n    \n        if (typeof input === \"number\") return false;\n    \n        return !input || Object.keys(input).length === 0;\n    };\n    const selectRef = useRef(null);\n\n    const [idTulltip, a_] = useState(\n        \"info\" +\n            new Date().getDay() +\n            \"\" +\n            new Date().getSeconds() +\n            new Date().getHours()\n    );\n\n    const debounceRef = useRef(null);\n    const [inFoucos, setInFoucos] = useState(false);\n    const {\n        fieldName,\n        defaultValue,\n        registerField,\n        error,\n        clearError\n    } = useField(name);\n    let { noBorder, newElement, data, enableImg, isrequired } = rest;\n    var value;\n    if (!isEmpty(data) && data.length === 1) value = { value: data };\n\n    const imgOrIcon = item => {\n        // debugger\n        if (item.hasOwnProperty(\"text\")) return;\n        return !isEmpty(item.icon) ? (\n            <div style={{ paddingTop: \"10px\" }}>\n                {\" \"}\n                <i className={item.icon + \" avatar-select\"}></i> {item.label}{\" \"}\n            </div>\n        ) : !isEmpty(item.img) ? (\n            <div>\n                {\" \"}\n                <img\n                    className=\"avatar-select mr-2\"\n                    src={require(`assets/img/theme/team-${Math.floor(\n                        Math.random() * 4\n                    ) + 1}.jpg`)}\n                    alt={item.value}\n                />{\" \"}\n                {item.label}{\" \"}\n            </div>\n        ) : (\n            item.label\n        );\n    };\n\n    const fillData = values => {\n        if (enableImg === true) {\n            values = values.map(d => {\n                d.label = imgOrIcon(d);\n                return d;\n            });\n        }\n\n        return values;\n    };\n\n    useEffect(() => {\n        if (rest.isMulti) {\n            setInFoucos(true);\n        }\n    }, []);\n\n    useEffect(() => {\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        registerField({\n            name: fieldName,\n            ref: selectRef.current,\n            path: \"state.value\",\n            getValue: ref => {\n                if (rest.isMulti) {\n                    if (!ref.state?.value) return [];\n                    //if(isEmpty(typeof ref.state.value === 'string'))return data.length === 1 ? data[0].value: data\n                    if (typeof ref.state.value.map !== \"function\") {\n                        if (!ref.state.value) return \"\";\n                        return ref.state.value.value;\n                    }\n                    return ref.state?.value?.map(option => option?.value);\n                } else {\n                    if (!ref.state.value) return \"\";\n                    return ref.state.value.value;\n                }\n            }\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [fieldName, registerField, rest.isMulti]);\n\n    const CustomOption = e => {\n        const { innerProps, isDisabled } = e;\n        // console.log(\"index\", e);\n        return !isDisabled ? (\n            <div {...innerProps}>{e.data.component}</div>\n        ) : null;\n    };\n\n    const DropdownIndicatorComponent = props => {\n        return (\n            <components.DropdownIndicator {...props}>\n                {selectIcon}\n            </components.DropdownIndicator>\n        );\n    };\n\n    const DropdownIndicatorComponentOther = props => {\n        return (\n            <components.DropdownIndicator {...props}>\n                {(() => {\n                    if (inFoucos) {\n                        return (\n                            <span\n                                className=\"teste-384\"\n                                onClick={e => {\n                                    rest.onSelectAll && rest.onSelectAll(e);\n                                }}\n                            >\n                                <i\n                                    id={idTulltip}\n                                    onClick={e => {\n                                        rest.onSelectAll && rest.onSelectAll(e);\n                                    }}\n                                    className=\"fas fa-check-double t kfgjug\"\n                                >\n                                    <div>Selecionar Todos</div>\n                                </i>\n                            </span>\n                        );\n                    } else\n                        return (\n                            <>{selectIcon || <i class=\"fas fa-search\"></i>}</>\n                        );\n                })()}\n            </components.DropdownIndicator>\n        );\n    };\n\n    return (\n        <>\n            <label className=\"form-control-label\">\n                {rest.title}{\" \"}\n                {isrequired && <small className=\"text-danger\">*</small>}\n            </label>\n            <FormGroup>\n                {rest.iconleft && (\n                    <UncontrolledTooltip\n                        delay={0}\n                        placement=\"auto\"\n                        target={selectRef}\n                    >\n                        <small>{rest.info ? rest.info : \"defaultInfo\"}</small>\n                    </UncontrolledTooltip>\n                )}\n                <InputGroup\n                    className={\n                        classnames(`input-group-merge flexed ${noBorder}`, {\n                            focused: \"true\"\n                        }) +\n                        \"  div-out-rs \" +\n                        (newElement !== undefined ? \" t \" : \"\")\n                    }\n                >\n                    <ReactSelect\n                        defaultValue={defaultValue}\n                        ref={selectRef}\n                        classNamePrefix={`${error &&\n                            \"unFormError \"} react-select`}\n                        {...rest}\n                        onChange={\n                            rest?.debounce\n                                ? e => {\n                                      const { time = 1000 } = rest;\n                                      clearTimeout(debounceRef.current);\n                                      debounceRef.current = setTimeout(() => {\n                                          rest.onChange(e);\n                                      }, time);\n                                  }\n                                : rest.onChange\n                        }\n                        components={\n                            rest.other\n                                ? {\n                                      Option: CustomOption,\n                                      DropdownIndicator: DropdownIndicatorComponentOther\n                                  }\n                                : inFoucos\n                                ? {\n                                      DropdownIndicator: DropdownIndicatorComponentOther\n                                  }\n                                : {\n                                      DropdownIndicator:\n                                          DropdownIndicatorComponent || null\n                                  }\n                        }\n                        // {...value}\n\n                        isClearable={true}\n                        options={fillData(data)}\n                        onInputChange={e => {\n                            clearError(e);\n                            if (rest.onInputChange) {\n                                rest.onInputChange(e);\n                            }\n                        }}\n                    />\n\n                    {newElement !== undefined ? (\n                        <InputGroupAddon\n                            title={newElement.title}\n                            addonType=\"append\"\n                            onClick={e => newElement.func(e)}\n                        >\n                            <InputGroupText\n                                className=\"form-control-sm _4Select\"\n                                style={error && { borderColor: \"#9f3a38\" }}\n                            >\n                                <i className=\"fas fa-plus mr-1\" />{\" \"}\n                                {newElement.legend}\n                            </InputGroupText>\n                        </InputGroupAddon>\n                    ) : (\n                        \"\"\n                    )}\n                </InputGroup>\n                {error && <small style={{ color: \"#9f3a38\" }}>{error}</small>}\n            </FormGroup>\n        </>\n    );\n};\n\nexport default Select;\n"]},"metadata":{},"sourceType":"module"}